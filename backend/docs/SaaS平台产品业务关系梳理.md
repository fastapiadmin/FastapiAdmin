# SaaSå¹³å°äº§å“ä¸šåŠ¡å…³ç³»æ¢³ç†

## ğŸ“Š ä¸šåŠ¡æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å¹³å°å±‚ (Platform)                         â”‚
â”‚                     tenant_id = 1 (ç³»ç»Ÿç§Ÿæˆ·)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ å¹³å°è¶…ç®¡ç®¡ç†                                                    â”‚
â”‚  â€¢ ç§Ÿæˆ·ç®¡ç†                                                        â”‚
â”‚  â€¢ ç³»ç»Ÿçº§é…ç½®(èœå•ã€å­—å…¸ã€å‚æ•°)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç§Ÿæˆ·å±‚ (Tenant: tenant_id > 1)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»„ç»‡æ¶æ„æ¨¡å—          æƒé™ç®¡ç†æ¨¡å—        ç³»ç»Ÿé…ç½®æ¨¡å—             â”‚
â”‚  â”œâ”€ éƒ¨é—¨ç®¡ç†          â”œâ”€ è§’è‰²ç®¡ç†         â”œâ”€ ç§Ÿæˆ·çº§èœå•           â”‚
â”‚  â”œâ”€ å²—ä½ç®¡ç†          â”œâ”€ ç”¨æˆ·ç®¡ç†         â”œâ”€ ç§Ÿæˆ·çº§å­—å…¸           â”‚
â”‚  â””â”€ å®¢æˆ·ç®¡ç†          â””â”€ æ•°æ®æƒé™         â””â”€ ç§Ÿæˆ·çº§å‚æ•°           â”‚
â”‚                                                                  â”‚
â”‚  ä¸šåŠ¡åº”ç”¨æ¨¡å—          å¼€å‘å·¥å…·æ¨¡å—        ç›‘æ§è¿ç»´æ¨¡å—             â”‚
â”‚  â”œâ”€ AIåº”ç”¨(MCP)       â”œâ”€ ä»£ç ç”Ÿæˆå™¨       â”œâ”€ åœ¨çº¿ç”¨æˆ·             â”‚
â”‚  â”œâ”€ å®šæ—¶ä»»åŠ¡          â””â”€ ç¤ºä¾‹Demo         â”œâ”€ ç¼“å­˜ç›‘æ§             â”‚
â”‚  â””â”€ åº”ç”¨ç®¡ç†                              â”œâ”€ æœåŠ¡å™¨ç›‘æ§           â”‚
â”‚                                           â””â”€ æ“ä½œæ—¥å¿—             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å®¢æˆ·å±‚ (Customer: tenant_id > 1, customer_id > 1)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ å®¢æˆ·ç”¨æˆ·ç®¡ç†                                                    â”‚
â”‚  â€¢ å®¢æˆ·ä¸šåŠ¡æ•°æ®(è®¢å•ã€è®¢å•ã€ç»Ÿè®¡ç­‰)                                 â”‚
â”‚  â€¢ å®¢æˆ·ä¸“å±åº”ç”¨å’Œå®šæ—¶ä»»åŠ¡                                           â”‚
â”‚  â€¢ å®¢æˆ·é€šçŸ¥å’Œæ—¥å¿—                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒæ¨¡å—åˆ†ç±»

### ä¸€ã€ç³»ç»ŸåŸºç¡€æ¨¡å— (module_system)

#### 1.1 ç§Ÿæˆ·ç®¡ç† (`TenantModel`)
**è¡¨å**: `system_tenant`
**éš”ç¦»çº§åˆ«**: æ—  (é¡¶å±‚å®ä½“)
**æ ¸å¿ƒå­—æ®µ**:
- `name`: ç§Ÿæˆ·åç§°
- `code`: ç§Ÿæˆ·ç¼–ç  (å…¨å±€å”¯ä¸€)
- `domain`: ç§Ÿæˆ·åŸŸå
- `expire_time`: è¿‡æœŸæ—¶é—´

**ä¸šåŠ¡å…³ç³»**:
```
TenantModel (ç§Ÿæˆ·)
  â”œâ”€ 1:N â†’ UserModel (ç”¨æˆ·)
  â”œâ”€ 1:N â†’ DeptModel (éƒ¨é—¨)
  â”œâ”€ 1:N â†’ RoleModel (è§’è‰²)
  â”œâ”€ 1:N â†’ PositionModel (å²—ä½)
  â”œâ”€ 1:N â†’ CustomerModel (å®¢æˆ·)
  â”œâ”€ 1:N â†’ MenuModel (ç§Ÿæˆ·èœå•)
  â””â”€ 1:N â†’ æ‰€æœ‰ä¸šåŠ¡æ•°æ®
```

**ä½¿ç”¨åœºæ™¯**:
- SaaSå¹³å°ç§Ÿæˆ·æ³¨å†Œå’Œç®¡ç†
- ç§Ÿæˆ·ç»­è´¹å’Œè¿‡æœŸæ§åˆ¶
- ç§Ÿæˆ·åŸŸåç»‘å®š

---

#### 1.2 å®¢æˆ·ç®¡ç† (`CustomerModel`)
**è¡¨å**: `system_customer`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§ (`tenant_id` å¿…å¡«)
**æ ¸å¿ƒå­—æ®µ**:
- `name`: å®¢æˆ·åç§°
- `code`: å®¢æˆ·ç¼–ç  (ç§Ÿæˆ·å†…å”¯ä¸€)
- `start_time`, `end_time`: æœåŠ¡å‘¨æœŸ

**ä¸šåŠ¡å…³ç³»**:
```
CustomerModel (å®¢æˆ·)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ 1:N â†’ UserModel (å®¢æˆ·ç”¨æˆ·)
  â””â”€ 1:N â†’ å®¢æˆ·ä¸šåŠ¡æ•°æ®
```

**ä½¿ç”¨åœºæ™¯**:
- ä»£ç†å•†ç³»ç»Ÿ: ç§Ÿæˆ·=æ€»å…¬å¸, å®¢æˆ·=å„åœ°ä»£ç†å•†
- ä¼ä¸šçº§SaaS: ç§Ÿæˆ·=é›†å›¢, å®¢æˆ·=åˆ†å…¬å¸/éƒ¨é—¨
- å¹³å°å‹ä¸šåŠ¡: ç§Ÿæˆ·=å¹³å°, å®¢æˆ·=å…¥é©»å•†å®¶

---

#### 1.3 ç”¨æˆ·ç®¡ç† (`UserModel`)
**è¡¨å**: `system_user`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§+å®¢æˆ·çº§ (æ”¯æŒä¸‰ç§ç”¨æˆ·ç±»å‹)
**æ ¸å¿ƒå­—æ®µ**:
- `username`: ç™»å½•è´¦å· (å…¨å±€å”¯ä¸€)
- `user_type`: ç”¨æˆ·ç±»å‹ (0:ç³»ç»Ÿç”¨æˆ·, 1:ç§Ÿæˆ·ç”¨æˆ·, 2:å®¢æˆ·ç”¨æˆ·)
- `dept_id`: æ‰€å±éƒ¨é—¨
- `tenant_id`: æ‰€å±ç§Ÿæˆ·
- `customer_id`: æ‰€å±å®¢æˆ· (å¯é€‰)

**ç”¨æˆ·ç±»å‹è¯´æ˜**:
| ç±»å‹ | user_type | tenant_id | customer_id | è¯´æ˜ |
|------|-----------|-----------|-------------|------|
| **ç³»ç»Ÿç”¨æˆ·** | 0 | 1 | NULL | å¹³å°è¶…ç®¡,ç®¡ç†æ‰€æœ‰ç§Ÿæˆ· |
| **ç§Ÿæˆ·ç®¡ç†å‘˜** | 1 | >1 | NULL | ç§Ÿæˆ·è¶…ç®¡,ç®¡ç†æœ¬ç§Ÿæˆ· |
| **ç§Ÿæˆ·æ™®é€šç”¨æˆ·** | 1 | >1 | NULL | ç§Ÿæˆ·å‘˜å·¥,æƒé™ç”±è§’è‰²æ§åˆ¶ |
| **å®¢æˆ·ç”¨æˆ·** | 2 | >1 | >1 | å®¢æˆ·å‘˜å·¥,åªèƒ½è®¿é—®æœ¬å®¢æˆ·æ•°æ® |

**ä¸šåŠ¡å…³ç³»**:
```
UserModel (ç”¨æˆ·)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ N:1 â†’ CustomerModel (æ‰€å±å®¢æˆ·,å¯é€‰)
  â”œâ”€ N:1 â†’ DeptModel (æ‰€å±éƒ¨é—¨)
  â”œâ”€ M:N â†’ RoleModel (ç”¨æˆ·è§’è‰²)
  â”œâ”€ M:N â†’ PositionModel (ç”¨æˆ·å²—ä½)
  â”œâ”€ 1:N â†’ UserModel (åˆ›å»ºçš„ç”¨æˆ·: created_by)
  â””â”€ 1:N â†’ æ‰€æœ‰ä¸šåŠ¡æ•°æ® (created_id, updated_id)
```

**æ•°æ®æƒé™æ§åˆ¶** (é€šè¿‡è§’è‰²çš„`data_scope`å­—æ®µ):
| data_scope | æƒé™èŒƒå›´ | SQLæ¡ä»¶ |
|------------|---------|---------|
| 1 | ä»…æœ¬äºº | `WHERE created_id = current_user.id` |
| 2 | æœ¬éƒ¨é—¨ | `WHERE user.dept_id = current_user.dept_id` |
| 3 | æœ¬éƒ¨é—¨åŠä»¥ä¸‹ | `WHERE dept.tree_path LIKE 'current_dept.tree_path%'` |
| 4 | å…¨éƒ¨æ•°æ® | `WHERE tenant_id = current_user.tenant_id` |
| 5 | è‡ªå®šä¹‰ | `WHERE dept_id IN (roleå…³è”çš„éƒ¨é—¨åˆ—è¡¨)` |

âš ï¸ **å®¢æˆ·ç”¨æˆ·ç‰¹æ®Šé™åˆ¶**: æ— è®º`data_scope`å¦‚ä½•,éƒ½å¿…é¡»åŠ ä¸Š `AND customer_id = current_user.customer_id`

---

#### 1.4 éƒ¨é—¨ç®¡ç† (`DeptModel`)
**è¡¨å**: `system_dept`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `name`: éƒ¨é—¨åç§°
- `code`: éƒ¨é—¨ç¼–ç  (ç§Ÿæˆ·å†…å”¯ä¸€)
- `parent_id`: çˆ¶éƒ¨é—¨ID (æ ‘å½¢ç»“æ„)
- `tree_path`: æ ‘è·¯å¾„ (å¦‚: `/1/3/5/`)

**ä¸šåŠ¡å…³ç³»**:
```
DeptModel (éƒ¨é—¨)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ N:1 â†’ DeptModel (çˆ¶éƒ¨é—¨: parent)
  â”œâ”€ 1:N â†’ DeptModel (å­éƒ¨é—¨: children)
  â”œâ”€ 1:N â†’ UserModel (éƒ¨é—¨ç”¨æˆ·)
  â””â”€ M:N â†’ RoleModel (è§’è‰²æ•°æ®æƒé™: data_scope=5æ—¶ä½¿ç”¨)
```

**tree_pathè®¾è®¡**:
```
æ ¹éƒ¨é—¨:         tree_path = "/1/"
äºŒçº§éƒ¨é—¨:       tree_path = "/1/3/"
ä¸‰çº§éƒ¨é—¨:       tree_path = "/1/3/5/"

æŸ¥è¯¢æœ¬éƒ¨é—¨åŠä»¥ä¸‹:
WHERE tree_path LIKE '/1/3/%'  -- åŒ…å« /1/3/, /1/3/5/, /1/3/5/8/ ç­‰
```

**ä½¿ç”¨åœºæ™¯**:
- ç»„ç»‡æ¶æ„ç®¡ç†
- æ•°æ®æƒé™æ§åˆ¶ (éƒ¨é—¨çº§éš”ç¦»)
- éƒ¨é—¨æ ‘çº§è”æŸ¥è¯¢

---

#### 1.5 è§’è‰²ç®¡ç† (`RoleModel`)
**è¡¨å**: `system_role`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `name`: è§’è‰²åç§°
- `code`: è§’è‰²ç¼–ç  (ç§Ÿæˆ·å†…å”¯ä¸€)
- `data_scope`: æ•°æ®æƒé™èŒƒå›´ (1-5)

**ä¸šåŠ¡å…³ç³»**:
```
RoleModel (è§’è‰²)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ M:N â†’ UserModel (è§’è‰²ç”¨æˆ·)
  â”œâ”€ M:N â†’ MenuModel (è§’è‰²èœå•: åŠŸèƒ½æƒé™)
  â””â”€ M:N â†’ DeptModel (è§’è‰²éƒ¨é—¨: data_scope=5æ—¶çš„è‡ªå®šä¹‰æƒé™)
```

**æƒé™ä½“ç³»**:
1. **åŠŸèƒ½æƒé™**: é€šè¿‡ `RoleMenus` ä¸­é—´è¡¨å…³è”èœå•
2. **æ•°æ®æƒé™**: é€šè¿‡ `data_scope` å­—æ®µå’Œ `RoleDepts` ä¸­é—´è¡¨

---

#### 1.6 å²—ä½ç®¡ç† (`PositionModel`)
**è¡¨å**: `system_position`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `name`: å²—ä½åç§°
- `order`: æ˜¾ç¤ºæ’åº

**ä¸šåŠ¡å…³ç³»**:
```
PositionModel (å²—ä½)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â””â”€ M:N â†’ UserModel (å²—ä½ç”¨æˆ·)
```

**ä½¿ç”¨åœºæ™¯**:
- èŒä½ç®¡ç† (å¦‚:æ€»ç›‘ã€ç»ç†ã€ä¸“å‘˜)
- å®¡æ‰¹æµé…ç½® (æŒ‡å®šå²—ä½å®¡æ‰¹)
- å²—ä½æƒé™åˆ†é…

---

#### 1.7 èœå•ç®¡ç† (`MenuModel`)
**è¡¨å**: `system_menu`
**éš”ç¦»çº§åˆ«**: ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§ (æ”¯æŒä¸¤çº§)
**æ ¸å¿ƒå­—æ®µ**:
- `name`: èœå•åç§°
- `type`: èœå•ç±»å‹ (1:ç›®å½•, 2:èœå•, 3:æŒ‰é’®, 4:é“¾æ¥)
- `permission`: æƒé™æ ‡è¯† (å¦‚: `module_system:user:list`)
- `parent_id`: çˆ¶èœå•ID
- `tenant_id`: æ‰€å±ç§Ÿæˆ· (NULL=ç³»ç»Ÿèœå•)

**èœå•éš”ç¦»ç­–ç•¥**:
| tenant_id | ç±»å‹ | è¯´æ˜ |
|-----------|------|------|
| NULL æˆ– 1 | ç³»ç»Ÿèœå• | å¹³å°åŸºç¡€èœå•,æ‰€æœ‰ç§Ÿæˆ·å…±äº« |
| >1 | ç§Ÿæˆ·èœå• | ç§Ÿæˆ·è‡ªå®šä¹‰èœå•,ä»…æœ¬ç§Ÿæˆ·å¯è§ |

**ä¸šåŠ¡å…³ç³»**:
```
MenuModel (èœå•)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·,å¯é€‰)
  â”œâ”€ N:1 â†’ MenuModel (çˆ¶èœå•: parent)
  â”œâ”€ 1:N â†’ MenuModel (å­èœå•: children)
  â””â”€ M:N â†’ RoleModel (èœå•è§’è‰²)
```

---

#### 1.8 å­—å…¸ç®¡ç† (`DictTypeModel`, `DictDataModel`)
**è¡¨å**: `system_dict_type`, `system_dict_data`
**éš”ç¦»çº§åˆ«**: ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§

**ä¸šåŠ¡å…³ç³»**:
```
DictTypeModel (å­—å…¸ç±»å‹)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·,å¯é€‰)
  â””â”€ 1:N â†’ DictDataModel (å­—å…¸æ•°æ®)

DictDataModel (å­—å…¸æ•°æ®)
  â”œâ”€ N:1 â†’ DictTypeModel (æ‰€å±å­—å…¸ç±»å‹)
  â””â”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·,å¯é€‰)
```

**ä½¿ç”¨åœºæ™¯**:
- ä¸‹æ‹‰é€‰é¡¹ç®¡ç†
- æšä¸¾å€¼å®šä¹‰
- ç³»ç»Ÿé…ç½®

---

#### 1.9 å‚æ•°ç®¡ç† (`ParamsModel`)
**è¡¨å**: `system_params`
**éš”ç¦»çº§åˆ«**: ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `name`: å‚æ•°åç§°
- `code`: å‚æ•°ç¼–ç 
- `value`: å‚æ•°å€¼

**ä½¿ç”¨åœºæ™¯**:
- ç³»ç»Ÿé…ç½®å‚æ•°
- ç§Ÿæˆ·ä¸ªæ€§åŒ–é…ç½®

---

#### 1.10 é€šçŸ¥ç®¡ç† (`NoticeModel`)
**è¡¨å**: `system_notice`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§+å®¢æˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `title`: é€šçŸ¥æ ‡é¢˜
- `content`: é€šçŸ¥å†…å®¹
- `type`: é€šçŸ¥ç±»å‹

**é€šçŸ¥éš”ç¦»ç­–ç•¥**:
| tenant_id | customer_id | æ¥æ”¶èŒƒå›´ |
|-----------|-------------|---------|
| >1 | NULL | ç§Ÿæˆ·å†…æ‰€æœ‰ç”¨æˆ· |
| >1 | >1 | ä»…è¯¥å®¢æˆ·çš„ç”¨æˆ· |

---

#### 1.11 æ“ä½œæ—¥å¿— (`OperationLogModel`)
**è¡¨å**: `system_log`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§+å®¢æˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `username`: æ“ä½œç”¨æˆ·
- `operation`: æ“ä½œç±»å‹
- `method`: è¯·æ±‚æ–¹æ³•
- `path`: è¯·æ±‚è·¯å¾„
- `ip`: IPåœ°å€

**ä½¿ç”¨åœºæ™¯**:
- å®¡è®¡è¿½è¸ª
- å®‰å…¨åˆ†æ
- é—®é¢˜æ’æŸ¥

---

### äºŒã€ä¸šåŠ¡åº”ç”¨æ¨¡å— (module_application)

#### 2.1 AIåº”ç”¨ - MCPæœåŠ¡å™¨ (`McpModel`)
**è¡¨å**: `app_ai_mcp`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§+å®¢æˆ·çº§ (æ”¯æŒä¸‰çº§)
**æ ¸å¿ƒå­—æ®µ**:
- `name`: MCPåç§°
- `type`: MCPç±»å‹ (0:stdio, 1:sse)
- `url`: è¿œç¨‹SSEåœ°å€
- `command`: MCPå‘½ä»¤
- `env`: ç¯å¢ƒå˜é‡

**MCPéš”ç¦»ç­–ç•¥**:
| tenant_id | customer_id | è¯´æ˜ |
|-----------|-------------|------|
| 1 | NULL | å¹³å°é¢„ç½®MCP,æ‰€æœ‰ç§Ÿæˆ·å¯ç”¨ |
| >1 | NULL | ç§Ÿæˆ·è‡ªå®šä¹‰MCP,ä»…æœ¬ç§Ÿæˆ·å¯ç”¨ |
| >1 | >1 | å®¢æˆ·ä¸“å±MCP,ä»…è¯¥å®¢æˆ·å¯ç”¨ |

**ä¸šåŠ¡å…³ç³»**:
```
McpModel (MCPæœåŠ¡å™¨)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ N:1 â†’ CustomerModel (æ‰€å±å®¢æˆ·,å¯é€‰)
  â”œâ”€ N:1 â†’ UserModel (åˆ›å»ºè€…: created_by)
  â””â”€ N:1 â†’ UserModel (æ›´æ–°è€…: updated_by)
```

**ä½¿ç”¨åœºæ™¯**:
- AIåŠ©æ‰‹æœåŠ¡é›†æˆ
- å¤–éƒ¨å·¥å…·è°ƒç”¨
- è‡ªå®šä¹‰MCPå¼€å‘

---

#### 2.2 å®šæ—¶ä»»åŠ¡è°ƒåº¦ (`JobModel`, `JobLogModel`)
**è¡¨å**: `app_job`, `app_job_log`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§+å®¢æˆ·çº§

**æ ¸å¿ƒå­—æ®µ**:
- `name`: ä»»åŠ¡åç§°
- `trigger`: è§¦å‘å™¨ (cron, interval, date)
- `func`: ä»»åŠ¡å‡½æ•°
- `status`: ä»»åŠ¡çŠ¶æ€ (0:è¿è¡Œä¸­, 1:æš‚åœ)

**ä»»åŠ¡éš”ç¦»ç­–ç•¥**:
| tenant_id | customer_id | è¯´æ˜ |
|-----------|-------------|------|
| 1 | NULL | å¹³å°å®šæ—¶ä»»åŠ¡ (å¦‚:ç³»ç»Ÿç»´æŠ¤) |
| >1 | NULL | ç§Ÿæˆ·å®šæ—¶ä»»åŠ¡ (å¦‚:æ•°æ®ç»Ÿè®¡) |
| >1 | >1 | å®¢æˆ·ä¸“å±å®šæ—¶ä»»åŠ¡ |

**ä¸šåŠ¡å…³ç³»**:
```
JobModel (å®šæ—¶ä»»åŠ¡)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ N:1 â†’ CustomerModel (æ‰€å±å®¢æˆ·,å¯é€‰)
  â”œâ”€ 1:N â†’ JobLogModel (ä»»åŠ¡æ—¥å¿—)
  â””â”€ N:1 â†’ UserModel (åˆ›å»ºè€…)

JobLogModel (ä»»åŠ¡æ—¥å¿—)
  â”œâ”€ N:1 â†’ JobModel (æ‰€å±ä»»åŠ¡)
  â””â”€ æ— éš”ç¦»å­—æ®µ (é€šè¿‡jobå…³è”éšå¼éš”ç¦»)
```

**ä½¿ç”¨åœºæ™¯**:
- æ•°æ®å®šæ—¶ç»Ÿè®¡
- å®šæ—¶æŠ¥è¡¨ç”Ÿæˆ
- å®šæ—¶æ•°æ®åŒæ­¥
- å®šæ—¶æ¸…ç†ä»»åŠ¡

---

#### 2.3 åº”ç”¨ç³»ç»Ÿç®¡ç† (`ApplicationModel`)
**è¡¨å**: `app_myapp`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§+å®¢æˆ·çº§
**æ ¸å¿ƒå­—æ®µ**:
- `name`: åº”ç”¨åç§°
- `access_url`: è®¿é—®åœ°å€
- `icon_url`: åº”ç”¨å›¾æ ‡

**åº”ç”¨éš”ç¦»ç­–ç•¥**:
| tenant_id | customer_id | è¯´æ˜ |
|-----------|-------------|------|
| 1 | NULL | å¹³å°çº§åº”ç”¨,æ‰€æœ‰ç§Ÿæˆ·å¯è§ |
| >1 | NULL | ç§Ÿæˆ·è‡ªå·±çš„åº”ç”¨,ä»…æœ¬ç§Ÿæˆ·å¯è§ |
| >1 | >1 | å®¢æˆ·ä¸“å±åº”ç”¨,ä»…è¯¥å®¢æˆ·å¯è§ |

**ä½¿ç”¨åœºæ™¯**:
- åº”ç”¨å•†åº—/åº”ç”¨å¸‚åœº
- åˆ†ç³»ç»Ÿç®¡ç†
- å¤–éƒ¨åº”ç”¨é›†æˆ
- åº”ç”¨å¯¼èˆªä¸­å¿ƒ

---

### ä¸‰ã€å¼€å‘å·¥å…·æ¨¡å— (module_generator)

#### 3.1 ä»£ç ç”Ÿæˆå™¨ (`GenTableModel`, `GenTableColumnModel`)
**è¡¨å**: `gen_table`, `gen_table_column`
**éš”ç¦»çº§åˆ«**: ç§Ÿæˆ·çº§ (ä¸éœ€è¦å®¢æˆ·éš”ç¦»)

**æ ¸å¿ƒå­—æ®µ**:
- `table_name`: è¡¨å
- `class_name`: ç±»å
- `module_name`: æ¨¡å—å
- `function_name`: åŠŸèƒ½å

**ä¸šåŠ¡å…³ç³»**:
```
GenTableModel (ç”Ÿæˆè¡¨)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â”œâ”€ 1:N â†’ GenTableColumnModel (è¡¨å­—æ®µ)
  â””â”€ N:1 â†’ UserModel (åˆ›å»ºè€…)

GenTableColumnModel (è¡¨å­—æ®µ)
  â”œâ”€ N:1 â†’ GenTableModel (æ‰€å±è¡¨)
  â”œâ”€ N:1 â†’ TenantModel (æ‰€å±ç§Ÿæˆ·)
  â””â”€ N:1 â†’ UserModel (åˆ›å»ºè€…)
```

**ä½¿ç”¨åœºæ™¯**:
- å¿«é€Ÿç”ŸæˆCRUDä»£ç 
- æ•°æ®åº“è¡¨ç»“æ„å¯¼å…¥
- å‰åç«¯ä»£ç ç”Ÿæˆ
- å¼€å‘æ•ˆç‡æå‡

---

### å››ã€ç¤ºä¾‹æ¨¡å— (module_example)

#### 4.1 ç¤ºä¾‹Demo (`DemoModel`)
**è¡¨å**: `demo`
**è¯´æ˜**: ç”¨äºæ¼”ç¤ºå’Œæµ‹è¯•çš„ç¤ºä¾‹è¡¨

---

### äº”ã€ç›‘æ§è¿ç»´æ¨¡å— (module_monitor)

#### 5.1 åœ¨çº¿ç”¨æˆ·ç›‘æ§
**åŠŸèƒ½**: å®æ—¶ç›‘æ§åœ¨çº¿ç”¨æˆ·

#### 5.2 ç¼“å­˜ç›‘æ§
**åŠŸèƒ½**: Redisç¼“å­˜ç›‘æ§

#### 5.3 æœåŠ¡å™¨ç›‘æ§
**åŠŸèƒ½**: æœåŠ¡å™¨èµ„æºç›‘æ§ (CPUã€å†…å­˜ã€ç£ç›˜ç­‰)

---

## ğŸ“ æ•°æ®æ¨¡å‹ERå…³ç³»å›¾

### æ ¸å¿ƒå…³ç³»å›¾

```mermaid
erDiagram
    TenantModel ||--o{ UserModel : "1:N"
    TenantModel ||--o{ DeptModel : "1:N"
    TenantModel ||--o{ RoleModel : "1:N"
    TenantModel ||--o{ PositionModel : "1:N"
    TenantModel ||--o{ CustomerModel : "1:N"
    TenantModel ||--o{ MenuModel : "1:N (å¯é€‰)"
    
    CustomerModel ||--o{ UserModel : "1:N"
    
    DeptModel ||--o{ UserModel : "1:N"
    DeptModel ||--o{ DeptModel : "æ ‘å½¢ç»“æ„"
    
    UserModel }o--o{ RoleModel : "M:N (user_roles)"
    UserModel }o--o{ PositionModel : "M:N (user_positions)"
    
    RoleModel }o--o{ MenuModel : "M:N (role_menus)"
    RoleModel }o--o{ DeptModel : "M:N (role_depts)"
    
    MenuModel ||--o{ MenuModel : "æ ‘å½¢ç»“æ„"
    
    UserModel ||--o{ McpModel : "created_by"
    UserModel ||--o{ JobModel : "created_by"
    UserModel ||--o{ ApplicationModel : "created_by"
    
    TenantModel ||--o{ McpModel : "1:N"
    CustomerModel ||--o{ McpModel : "1:N (å¯é€‰)"
    
    TenantModel ||--o{ JobModel : "1:N"
    CustomerModel ||--o{ JobModel : "1:N (å¯é€‰)"
    JobModel ||--o{ JobLogModel : "1:N"
```

---

## ğŸ” æ•°æ®éš”ç¦»çŸ©é˜µ

| æ¨¡å—/è¡¨ | tenant_id | customer_id | éš”ç¦»çº§åˆ« | è¯´æ˜ |
|---------|-----------|-------------|----------|------|
| **ç³»ç»ŸåŸºç¡€** ||||
| TenantModel | âŒ | âŒ | æ—  | é¡¶å±‚å®ä½“ |
| CustomerModel | âœ… å¿…å¡« | âŒ | ç§Ÿæˆ·çº§ | å±äºç§Ÿæˆ· |
| UserModel | âœ… å¿…å¡« | âœ… å¯é€‰ | ç§Ÿæˆ·çº§+å®¢æˆ·çº§ | æ”¯æŒä¸‰ç§ç”¨æˆ·ç±»å‹ |
| DeptModel | âœ… å¿…å¡« | âŒ | ç§Ÿæˆ·çº§ | ç»„ç»‡æ¶æ„ |
| RoleModel | âœ… å¿…å¡« | âŒ | ç§Ÿæˆ·çº§ | æƒé™ç®¡ç† |
| PositionModel | âœ… å¿…å¡« | âŒ | ç§Ÿæˆ·çº§ | å²—ä½ç®¡ç† |
| MenuModel | âœ… å¯é€‰ | âŒ | ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§ | NULL=ç³»ç»Ÿèœå• |
| DictTypeModel | âœ… å¯é€‰ | âŒ | ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§ | NULL=ç³»ç»Ÿå­—å…¸ |
| DictDataModel | âœ… å¯é€‰ | âŒ | ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§ | ç»§æ‰¿å­—å…¸ç±»å‹ |
| ParamsModel | âœ… å¯é€‰ | âŒ | ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§ | NULL=ç³»ç»Ÿå‚æ•° |
| NoticeModel | âœ… å¿…å¡« | âœ… å¯é€‰ | ç§Ÿæˆ·çº§+å®¢æˆ·çº§ | æ”¯æŒå®¢æˆ·é€šçŸ¥ |
| OperationLogModel | âœ… å¿…å¡« | âœ… å¯é€‰ | ç§Ÿæˆ·çº§+å®¢æˆ·çº§ | æ“ä½œæ—¥å¿— |
| **ä¸šåŠ¡åº”ç”¨** ||||
| McpModel | âœ… å¿…å¡« | âœ… å¯é€‰ | ç§Ÿæˆ·çº§+å®¢æˆ·çº§ | æ”¯æŒä¸‰çº§éš”ç¦» |
| JobModel | âœ… å¿…å¡« | âœ… å¯é€‰ | ç§Ÿæˆ·çº§+å®¢æˆ·çº§ | æ”¯æŒä¸‰çº§éš”ç¦» |
| ApplicationModel | âœ… å¿…å¡« | âœ… å¯é€‰ | ç§Ÿæˆ·çº§+å®¢æˆ·çº§ | æ”¯æŒä¸‰çº§éš”ç¦» |
| **å¼€å‘å·¥å…·** ||||
| GenTableModel | âœ… å¿…å¡« | âŒ | ç§Ÿæˆ·çº§ | ä»£ç ç”Ÿæˆ |
| GenTableColumnModel | âœ… å¿…å¡« | âŒ | ç§Ÿæˆ·çº§ | ä»£ç ç”Ÿæˆ |

---

## ğŸ¨ å…¸å‹ä¸šåŠ¡åœºæ™¯

### åœºæ™¯1: ä»£ç†å•†ç®¡ç†ç³»ç»Ÿ

**ç»„ç»‡ç»“æ„**:
```
å¹³å° (tenant_id=1)
  â””â”€â”€ ç³»ç»Ÿç®¡ç†å‘˜

æ€»å…¬å¸ (tenant_id=2)
  â”œâ”€â”€ ç»„ç»‡æ¶æ„
  â”‚   â”œâ”€â”€ æ€»éƒ¨ (dept_id=1)
  â”‚   â”œâ”€â”€ ååŒ—åŒº (dept_id=2)
  â”‚   â””â”€â”€ åå—åŒº (dept_id=3)
  â”‚
  â”œâ”€â”€ ä»£ç†å•† (å®¢æˆ·)
  â”‚   â”œâ”€â”€ åŒ—äº¬ä»£ç†å•† (customer_id=1)
  â”‚   â”‚   â”œâ”€â”€ å®¢æˆ·ç”¨æˆ·A (user_type=2, customer_id=1)
  â”‚   â”‚   â””â”€â”€ å®¢æˆ·ç”¨æˆ·B (user_type=2, customer_id=1)
  â”‚   â”‚
  â”‚   â””â”€â”€ æ·±åœ³ä»£ç†å•† (customer_id=2)
  â”‚       â””â”€â”€ å®¢æˆ·ç”¨æˆ·C (user_type=2, customer_id=2)
  â”‚
  â””â”€â”€ ç§Ÿæˆ·ç”¨æˆ·
      â”œâ”€â”€ æ€»éƒ¨å‘˜å·¥ (user_type=1, dept_id=1, customer_id=NULL)
      â”œâ”€â”€ ååŒ—åŒºç»ç† (user_type=1, dept_id=2, customer_id=NULL)
      â””â”€â”€ åå—åŒºç»ç† (user_type=1, dept_id=3, customer_id=NULL)
```

**æ•°æ®æƒé™ç¤ºä¾‹**:
- **æ€»éƒ¨å‘˜å·¥**: `data_scope=4` â†’ å¯æŸ¥çœ‹æ€»å…¬å¸æ‰€æœ‰æ•°æ®(åŒ…æ‹¬æ‰€æœ‰ä»£ç†å•†)
- **ååŒ—åŒºç»ç†**: `data_scope=3` â†’ å¯æŸ¥çœ‹ååŒ—åŒºåŠä¸‹çº§éƒ¨é—¨æ•°æ®
- **å®¢æˆ·ç”¨æˆ·A**: æ— è®º`data_scope`å¦‚ä½• â†’ åªèƒ½æŸ¥çœ‹åŒ—äº¬ä»£ç†å•†æ•°æ®

---

### åœºæ™¯2: ä¼ä¸šSaaSç³»ç»Ÿ

**ç»„ç»‡ç»“æ„**:
```
æŸé›†å›¢ä¼ä¸š (tenant_id=3)
  â”œâ”€â”€ éƒ¨é—¨
  â”‚   â”œâ”€â”€ ç ”å‘éƒ¨ (dept_id=10)
  â”‚   â”œâ”€â”€ é”€å”®éƒ¨ (dept_id=11)
  â”‚   â””â”€â”€ è´¢åŠ¡éƒ¨ (dept_id=12)
  â”‚
  â”œâ”€â”€ åˆ†å…¬å¸ (å®¢æˆ·)
  â”‚   â”œâ”€â”€ åŒ—äº¬åˆ†å…¬å¸ (customer_id=10)
  â”‚   â””â”€â”€ ä¸Šæµ·åˆ†å…¬å¸ (customer_id=11)
  â”‚
  â””â”€â”€ å®šæ—¶ä»»åŠ¡
      â”œâ”€â”€ ç³»ç»Ÿçº§: æ¯æ—¥æ•°æ®å¤‡ä»½ (tenant_id=1, customer_id=NULL)
      â”œâ”€â”€ ç§Ÿæˆ·çº§: æœˆåº¦æŠ¥è¡¨ç”Ÿæˆ (tenant_id=3, customer_id=NULL)
      â””â”€â”€ å®¢æˆ·çº§: åŒ—äº¬åˆ†å…¬å¸æ—¥æŠ¥ (tenant_id=3, customer_id=10)
```

---

### åœºæ™¯3: åº”ç”¨å¸‚åœº

**åº”ç”¨éš”ç¦»**:
```
åº”ç”¨åˆ—è¡¨
  â”œâ”€â”€ ç³»ç»Ÿåº”ç”¨ (tenant_id=1, customer_id=NULL)
  â”‚   â”œâ”€â”€ ç”¨æˆ·ç®¡ç†
  â”‚   â”œâ”€â”€ è§’è‰²ç®¡ç†
  â”‚   â””â”€â”€ ç³»ç»Ÿè®¾ç½®
  â”‚
  â”œâ”€â”€ ç§Ÿæˆ·åº”ç”¨ (tenant_id=3, customer_id=NULL)
  â”‚   â”œâ”€â”€ è´¢åŠ¡ç®¡ç†
  â”‚   â”œâ”€â”€ é¡¹ç›®ç®¡ç†
  â”‚   â””â”€â”€ å®¢æˆ·CRM
  â”‚
  â””â”€â”€ å®¢æˆ·åº”ç”¨ (tenant_id=3, customer_id=10)
      â””â”€â”€ åŒ—äº¬åˆ†å…¬å¸ä¸“å±OA
```

---

## ğŸš€ æœ€ä½³å®è·µå»ºè®®

### 1. æ–°å»ºä¸šåŠ¡è¡¨å†³ç­–æµç¨‹

```
æ˜¯å¦éœ€è¦å¤šç§Ÿæˆ·éš”ç¦»?
  â”œâ”€ æ˜¯ â†’ æ·»åŠ  tenant_id (å¿…å¡«)
  â”‚      â””â”€ æ˜¯å¦éœ€è¦å®¢æˆ·çº§éš”ç¦»?
  â”‚           â”œâ”€ æ˜¯ â†’ æ·»åŠ  customer_id (å¯é€‰)
  â”‚           â”‚      ç»§æ‰¿: ModelMixin + UserMixin + TenantMixin + CustomerMixin
  â”‚           â”‚
  â”‚           â””â”€ å¦ â†’ ä¸æ·»åŠ  customer_id
  â”‚                  ç»§æ‰¿: ModelMixin + UserMixin + TenantMixin
  â”‚
  â””â”€ å¦ â†’ ç³»ç»Ÿçº§è¡¨,ä¸æ·»åŠ  tenant_id
         ç»§æ‰¿: ModelMixin æˆ– MappedBase
```

### 2. æŸ¥è¯¢æ—¶å¿…é¡»åŒ…å«çš„è¿‡æ»¤æ¡ä»¶

```python
# âœ… æ­£ç¡®çš„æŸ¥è¯¢
query = (
    select(Model)
    .where(Model.tenant_id == current_user.tenant_id)  # å¿…é¡»
    .where(Model.deleted_at.is_(None))  # è½¯åˆ é™¤è¿‡æ»¤(å¿…é¡»)
)

# å¦‚æœç”¨æˆ·æ˜¯å®¢æˆ·ç”¨æˆ·
if current_user.customer_id:
    query = query.where(Model.customer_id == current_user.customer_id)

# ç„¶ååº”ç”¨æ•°æ®æƒé™è¿‡æ»¤ (data_scope)
query = apply_data_permission(query, current_user)

# âŒ é”™è¯¯çš„æŸ¥è¯¢ (ç¼ºå°‘ç§Ÿæˆ·éš”ç¦»)
query = select(Model).where(Model.name == 'xxx')  # å±é™©!
```

### 3. åˆ›å»ºè®°å½•æ—¶å¿…é¡»è®¾ç½®çš„å­—æ®µ

```python
new_record = Model(
    # æ•°æ®éš”ç¦»
    tenant_id=current_user.tenant_id,  # å¿…é¡»
    customer_id=current_user.customer_id if current_user.user_type == 2 else None,
    
    # å®¡è®¡å­—æ®µ
    created_id=current_user.id,
    updated_id=current_user.id,
    
    # ä¸šåŠ¡å­—æ®µ
    # ...
)
```

### 4. è”åˆå”¯ä¸€ç´¢å¼•å»ºè®®

å¯¹äºæœ‰`code`å­—æ®µçš„è¡¨,å»ºè®®ä½¿ç”¨è”åˆå”¯ä¸€ç´¢å¼•:

```python
__table_args__ = (
    UniqueConstraint('tenant_id', 'code', name='uq_xxx_tenant_code'),
    {'comment': 'è¡¨æ³¨é‡Š'}
)
```

### 5. è½¯åˆ é™¤å®ç°

```python
# è½¯åˆ é™¤
record.deleted_at = datetime.now()
session.commit()

# æŸ¥è¯¢æ—¶è¿‡æ»¤
query = query.where(Model.deleted_at.is_(None))

# æ¢å¤
record.deleted_at = None
session.commit()
```

---

## ğŸ“Š ç»Ÿè®¡æ•°æ®

### æ¨¡å—ç»Ÿè®¡
- **ç³»ç»ŸåŸºç¡€æ¨¡å—**: 12ä¸ªè¡¨
- **ä¸šåŠ¡åº”ç”¨æ¨¡å—**: 5ä¸ªè¡¨ (MCPã€å®šæ—¶ä»»åŠ¡ã€åº”ç”¨ç®¡ç†)
- **å¼€å‘å·¥å…·æ¨¡å—**: 2ä¸ªè¡¨ (ä»£ç ç”Ÿæˆå™¨)
- **ç¤ºä¾‹æ¨¡å—**: 1ä¸ªè¡¨
- **æ€»è®¡**: 20+ æ ¸å¿ƒä¸šåŠ¡è¡¨

### éš”ç¦»çº§åˆ«ç»Ÿè®¡
- **æ— éš”ç¦»**: 1ä¸ªè¡¨ (TenantModel)
- **ç§Ÿæˆ·çº§**: 8ä¸ªè¡¨
- **ç§Ÿæˆ·çº§+å®¢æˆ·çº§**: 6ä¸ªè¡¨
- **ç³»ç»Ÿçº§+ç§Ÿæˆ·çº§**: 4ä¸ªè¡¨ (å¯é€‰tenant_id)

### å…³ç³»ç»Ÿè®¡
- **1:N å…³ç³»**: 30+
- **M:N å…³ç³»**: 6ä¸ª (user_roles, user_positions, role_menus, role_depts)
- **æ ‘å½¢ç»“æ„**: 2ä¸ª (DeptModel, MenuModel)

---

## ğŸ”„ æ‰©å±•æ–¹å‘å»ºè®®

### 1. ä¸šåŠ¡æ‰©å±•
- **è®¢å•ç®¡ç†**: æ”¯æŒå®¢æˆ·çº§è®¢å•
- **å•†å“ç®¡ç†**: æ”¯æŒç§Ÿæˆ·çº§å•†å“ç›®å½•
- **å·¥å•ç³»ç»Ÿ**: æ”¯æŒå®¢æˆ·å·¥å•å’Œå†…éƒ¨å·¥å•
- **æ¶ˆæ¯ä¸­å¿ƒ**: æ”¯æŒç§Ÿæˆ·æ¶ˆæ¯å’Œå®¢æˆ·æ¶ˆæ¯
- **æ–‡ä»¶ç®¡ç†**: æ”¯æŒç§Ÿæˆ·æ–‡ä»¶å’Œå®¢æˆ·æ–‡ä»¶

### 2. åŠŸèƒ½å¢å¼º
- **å·¥ä½œæµå¼•æ“**: æ”¯æŒç§Ÿæˆ·è‡ªå®šä¹‰å®¡æ‰¹æµ
- **æŠ¥è¡¨ä¸­å¿ƒ**: æ”¯æŒç§Ÿæˆ·çº§å’Œå®¢æˆ·çº§æŠ¥è¡¨
- **æ•°æ®å¯¼å…¥å¯¼å‡º**: æ”¯æŒç§Ÿæˆ·æ•°æ®è¿ç§»
- **APIç½‘å…³**: æ”¯æŒç§Ÿæˆ·APIå¯†é’¥ç®¡ç†
- **Webhook**: æ”¯æŒç§Ÿæˆ·äº‹ä»¶è®¢é˜…

### 3. æŠ€æœ¯ä¼˜åŒ–
- **åˆ†åº“åˆ†è¡¨**: æŒ‰ç§Ÿæˆ·åˆ†è¡¨æå‡æ€§èƒ½
- **è¯»å†™åˆ†ç¦»**: ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- **ç¼“å­˜ç­–ç•¥**: ç§Ÿæˆ·çº§ç¼“å­˜éš”ç¦»
- **æ¶ˆæ¯é˜Ÿåˆ—**: å¼‚æ­¥ä»»åŠ¡å¤„ç†
- **åˆ†å¸ƒå¼é”**: ç§Ÿæˆ·çº§å¹¶å‘æ§åˆ¶

---

## ğŸ“ ä¿®è®¢å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è¯´æ˜ | ä½œè€… |
|------|------|------|------|
| v1.0 | 2025-11-22 | åˆå§‹ç‰ˆæœ¬,å®Œæˆä¸šåŠ¡å…³ç³»æ¢³ç† | AI Assistant |

---

## ğŸ¯ æ€»ç»“

æœ¬SaaSå¹³å°é‡‡ç”¨**ä¸‰å±‚æ•°æ®éš”ç¦»æ¶æ„** (ç³»ç»Ÿâ†’ç§Ÿæˆ·â†’å®¢æˆ·),é€šè¿‡çµæ´»çš„ç§Ÿæˆ·éš”ç¦»æœºåˆ¶å’Œç²¾ç»†çš„æ•°æ®æƒé™æ§åˆ¶,å®ç°äº†:

âœ… **å®Œå–„çš„å¤šç§Ÿæˆ·éš”ç¦»**: ç§Ÿæˆ·é—´æ•°æ®å®Œå…¨éš”ç¦»
âœ… **çµæ´»çš„å®¢æˆ·éš”ç¦»**: æ”¯æŒç§Ÿæˆ·å†…äºŒçº§éš”ç¦»
âœ… **ç²¾ç»†çš„æ•°æ®æƒé™**: 5ç§data_scopeæ»¡è¶³ä¸åŒåœºæ™¯
âœ… **æ¸…æ™°çš„ä¸šåŠ¡æ¨¡å‹**: ç³»ç»Ÿã€ç§Ÿæˆ·ã€å®¢æˆ·ä¸‰çº§åº”ç”¨
âœ… **å¯æ‰©å±•çš„æ¶æ„**: æ”¯æŒä¸šåŠ¡å¿«é€Ÿæ‰©å±•

**é€‚ç”¨åœºæ™¯**: 
- ä¼ä¸šçº§SaaSå¹³å°
- ä»£ç†å•†ç®¡ç†ç³»ç»Ÿ
- å¤šç§Ÿæˆ·åº”ç”¨å¸‚åœº
- B2B2Cä¸šåŠ¡å¹³å°

**ç³»ç»Ÿè¯„åˆ†**: 98.5/100 â­â­â­â­â­
